(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f056772"],{"14cc":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.size},[a("div",{staticClass:"form-group row nopadding"},[a("div",{staticClass:"nopadding",class:t.label_size},[a("div",{staticClass:"filter-title"},[a("a",{staticClass:"control-label",attrs:{href:"#"},on:{click:function(e){return t.open_account_group_form()}}},[t._v(" "+t._s(t.label)+" ")])])]),a("div",{staticClass:"nopadding",class:t.input_size},[a("input",{staticClass:"form-control",attrs:{placeholder:t.label,maxlength:t.maxlength,id:t.id,name:t.name},domProps:{value:t.value},on:{input:function(e){return t.input(e)}}})])])])},s=[],i=(a("ac1f"),a("466d"),{name:"filter_account_group_field",data:function(){return{}},props:{label:{type:String,default:"戶組"},name:{type:String,default:"account_group"},id:{type:String,default:""},size:{type:String,default:"col-3"},label_size:{type:String,default:"col-5"},input_size:{type:String,default:"col-5"},value:{type:String,default:""},maxlength:{type:String,default:"10"},only_number:{type:Boolean,default:!0}},methods:{input:function(t){if(this.only_number){var e=t.target.value,a=e.match(/[\d]+/g);$(t.target).val(a?a[0]:"")}this.$emit("input",t.target.value)},open_account_group_form:function(){this.$emit("emitOpenAccountGroupForm",this.value)}}}),r=i,o=a("2877"),c=Object(o["a"])(r,n,s,!1,null,null,null);e["a"]=c.exports},"3ea2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.size},[a("div",{staticClass:"form-group row nopadding"},[a("div",{staticClass:"nopadding",class:t.label_size},[a("div",{staticClass:"filter-title"},[a("label",{staticClass:"control-label",attrs:{for:t.id}},[t._v(t._s(t.label))])])]),a("div",{staticClass:"nopadding",class:t.input_size},[a("input",{staticClass:"form-control",attrs:{type:t.type,name:t.name,placeholder:t.label,maxlength:t.maxlength,id:t.id},domProps:{value:t.value},on:{input:function(e){return t.input(e)}}})])])])},s=[],i=(a("ac1f"),a("466d"),a("5319"),{name:"filter_input_field",props:{label:{type:String,default:"請傳入label"},name:{type:String,default:"請傳入name"},id:{type:String,default:""},size:{type:String,default:"col-3"},label_size:{type:String,default:"col-5"},input_size:{type:String,default:"col-5"},type:{type:String,default:"text"},value:{type:String,default:""},maxlength:{type:String,default:""},only_number:{type:Boolean,default:!1},only_big_en_and_number:{type:Boolean,default:!1}},methods:{input:function(t){if(this.only_number){var e=t.target.value,a=e.match(/[\d]+/g);$(t.target).val(a?a[0]:"")}else if(this.only_big_en){var n=t.target.value;$(t.target).val(n.replace(/[^\w\/]/gi,"").toUpperCase())}this.$emit("input",t.target.value)}}}),r=i,o=a("2877"),c=Object(o["a"])(r,n,s,!1,null,null,null);e["a"]=c.exports},4264:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.size},[a("div",{staticClass:"form-group row nopadding"},[a("div",{staticClass:"nopadding",class:t.label_size},[a("div",{staticClass:"filter-title"},[a("label",{staticClass:"control-label",attrs:{for:t.id}},[t._v(t._s(t.label))])])]),a("div",{staticClass:"nopadding",class:t.input_size},[a("select",{staticClass:"form-select",attrs:{id:t.id,name:t.name},on:{change:function(e){return t.$emit("input",e.target.value)}}},t._l(t.options,(function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v(" "+t._s(e.option||e.name||e.text)+" ")])})),0)])])])},s=[],i={name:"filter_select_field",props:{label:{type:String,default:"請傳入Label"},name:{type:String,default:"請傳入Name"},id:{type:String,default:"id"+void 0},options:{type:Array,default:[{value:0,option:"test"}]},size:{type:String,default:"col-3"},label_size:{type:String,default:"col-5"},input_size:{type:String,default:"col-5"}}},r=i,o=a("2877"),c=Object(o["a"])(r,n,s,!1,null,null,null);e["a"]=c.exports},5499:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("TCModal",{ref:"modal",staticClass:"account_group_form",attrs:{id:"account_group_form",title:t.title,dialog_width:"600px","modal-body-style":{"min-height":"fit-content","max-height":"auto",overflow:"auto"}},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{staticClass:"row g-0 search-row"},[a("div",{staticClass:"col-5 row nopadding"},[a("div",{staticClass:"col-4 nopadding"},[a("label",{staticClass:"control-label"},[t._v("姓名")])]),a("div",{staticClass:"col-7 nopadding"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_name,expression:"search_name"}],staticClass:"form-control",domProps:{value:t.search_name},on:{input:function(e){e.target.composing||(t.search_name=e.target.value)}}})])]),a("div",{staticClass:"col-5 row nopadding"},[a("div",{staticClass:"col-4 nopadding"},[a("label",{staticClass:"control-label"},[t._v("戶組編號")])]),a("div",{staticClass:"col-7 nopadding"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_account_group_no,expression:"search_account_group_no"}],staticClass:"form-control",domProps:{value:t.search_account_group_no},on:{input:function(e){e.target.composing||(t.search_account_group_no=e.target.value)}}})])]),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-p",on:{click:function(e){return t.get_account_group_list()}}},[t._v("搜尋")])])]),a("div",{staticClass:"table-area"},[a("div",{staticClass:"nopadding thead"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",{staticClass:"table-title-bar"},[a("th",{staticStyle:{width:"15rem"}},[t._v("戶口編號")]),a("th",[t._v("姓名")])])])])]),a("div",{staticClass:"nopadding tbody"},[a("table",{staticClass:"table table-bordered table-hover"},[a("tbody",t._l(t.account_group_list,(function(e){return a("tr",{key:e.account_no,class:{selectedTr:e.account_no===t.select_account_group_data.account_no},on:{click:function(a){return t.select_account_group(e)}}},[a("td",{staticStyle:{width:"15rem"}},[t._v(t._s(e.account_no))]),a("td",[t._v(t._s(e.name))])])})),0)])])])]},proxy:!0},{key:"footer",fn:function(){return[a("button",{staticClass:"btn btn-new4",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[t._v("確定")]),a("button",{staticClass:"btn btn-new4",attrs:{type:"button"},on:{click:function(e){return t.hide()}}},[t._v("離開")])]},proxy:!0}])})},s=[],i=a("1da1"),r=(a("96cf"),a("5fec")),o=a("a847"),c=("".concat("http://dev-tc-laravel.vc-technology.com","/api/account-management/account/list"),{name:"account_group_form",components:{TCModal:r["a"],WaterMarker:o["a"]},data:function(){return{title:"戶組",select_account_group_data:{},search_name:"",search_account_group_no:"",account_group_list:[{account_no:"1",name:"John",account_id:1},{account_no:"2",name:"John",account_id:2},{account_no:"3",name:"John",account_id:3}]}},methods:{edit_record:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",s=t.length>1&&void 0!==t[1]?t[1]:"",e.reset(),""!==n&&(e.title=n),""!==s&&(e.search_account_group_no=s),a.next=7,e.get_account_group_list();case 7:return a.abrupt("return",e.show());case 8:case"end":return a.stop()}}),a)})))()},get_account_group_list:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return");case 4:e.sent,e.next=13;break;case 7:return e.prev=7,e.t0=e["catch"](1),console.log("error",e.t0.response),e.next=12,SysUI.alert(t.title,e.t0.response.data.message);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))()},select_account_group:function(t){this.select_account_group_data=t},save:function(){this.hide(this.select_account_group_data)},show:function(){return this.$refs.modal.show()},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.account_no?this.$refs.modal.hide(this.select_account_group_data):this.$refs.modal.hide()},reset:function(){Object.assign(this.$data,this.$options.data())}}}),l=c,u=(a("ec87"),a("2877")),d=Object(u["a"])(l,n,s,!1,null,null,null);e["a"]=d.exports},"5bd4":function(t,e,a){},"5fec":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"modal",staticClass:"modal fade",attrs:{"data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog modal-lg",style:t.get_dialog_style()},[a("div",{staticClass:"modal-content watermark-container"},[a("WaterMarker"),a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("span",{staticClass:"modal-title"},[t._v(" "+t._s(t.title)+" ")])]}))],2),a("div",{ref:"modal_body",staticClass:"modal-body",style:t.get_modal_body_style()},[a("input",{staticStyle:{display:"none"}}),a("input",{staticStyle:{display:"none"},attrs:{type:"password"}}),t._t("body")],2),a("div",{staticClass:"modal-footer"},[t._t("footer",(function(){return[a("button",{staticClass:"btn btn-new4",on:{click:function(e){return t.hide()}}},[t._v(" 離開 ")])]}))],2)],1)]),t._t("default")],2)},s=[],i=(a("d3b7"),a("a847")),r={name:"tc-modal",components:{WaterMarker:i["a"]},data:function(){return{p_resolve:null}},model:{prop:"value",event:"change"},props:{title:{type:String,default:"未獲取Tittle"},dialogStyle:Object,modalBodyStyle:Object,body_min_height:{type:String,default:"680px"},dialog_width:{type:String,default:"1600px"}},created:function(){},computed:{},methods:{get_dialog_style:function(){return Object.assign({"max-width":this.dialog_width},this.dialogStyle)},get_modal_body_style:function(){return Object.assign({"min-height":this.body_min_height,"max-height":"680px"},this.modalBodyStyle)},show:function(){var t=this,e=$(this.$refs.modal);return e.modal("show"),SysUI.set_backdrop(e,!0),$(this.$refs.modal_body).scrollTop(0),new Promise((function(e){return t.p_resolve=e}))},hide:function(t){$(this.$refs.modal).modal("hide"),this.p_resolve(t)}}},o=r,c=a("2877"),l=Object(c["a"])(o,n,s,!1,null,null,null);e["a"]=l.exports},"6df2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page_remark noselect",staticStyle:{"text-align":"right"},attrs:{id:"page-remark"},domProps:{innerHTML:t._s(t.html)}})},s=[],i={name:"page_remark",props:{html:{type:String,default:""}}},r=i,o=a("2877"),c=Object(o["a"])(r,n,s,!1,null,null,null);e["a"]=c.exports},"7c62":function(t,e,a){},8718:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"accmanage"},[a("div",{staticClass:"vc-panel",attrs:{id:"main-panel"}},[a("div",{staticClass:"vc-panel-heading"},[a("span",{staticClass:"vc-panel-title"},[t._v("資產資料(公司)")]),a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-new",on:{click:function(e){return t.create_company()}}},[t._v(" 新增公司 ")])])]),a("div",{staticClass:"vc-panel-body"},[a("form",{staticClass:"vc-panel-body-search watermark-container",attrs:{id:"search-panel"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}}},[a("WaterMark"),a("div",{staticClass:"subTitle justify-content-between"},[t._v(" 選擇搜尋條件 ")]),a("div",{staticClass:"vc-panel-body-search-row row row-cols-4 gx-0 gy-1"},[a("FilterInputField",{attrs:{label:"戶口編號",id:"filter_account_no",name:"filter_account_no",maxlength:"10",only_number:""},model:{value:t.filters.account_no,callback:function(e){t.$set(t.filters,"account_no",e)},expression:"filters.account_no"}}),a("FilterAccountGroupField",{attrs:{label:"戶組",id:"filter_account_group",name:"filter_account_group"},on:{emitOpenAccountGroupForm:function(e){return t.getOpenAccountGroupForm("戶組","account_group")}},model:{value:t.filters.account_group,callback:function(e){t.$set(t.filters,"account_group",e)},expression:"filters.account_group"}}),a("FilterInputField",{attrs:{label:"資產地區",id:"filter_company_area",name:"filter_company_area"},model:{value:t.filters.company_area,callback:function(e){t.$set(t.filters,"company_area",e)},expression:"filters.company_area"}}),a("FilterInputField",{attrs:{label:"資產類型",id:"filter_estate_area",name:"filter_estate_area"},model:{value:t.filters.estate_area,callback:function(e){t.$set(t.filters,"estate_area",e)},expression:"filters.estate_area"}}),a("FilterInputField",{attrs:{label:"業權人",id:"filter_stakeholder",name:"filter_stakeholder"},model:{value:t.filters.stakeholder,callback:function(e){t.$set(t.filters,"stakeholder",e)},expression:"filters.stakeholder"}}),a("FilterInputField",{attrs:{label:"地址關鍵字",id:"filter_company_name",name:"filter_company_name"},model:{value:t.filters.company_name,callback:function(e){t.$set(t.filters,"company_name",e)},expression:"filters.company_name"}})],1),a("div",{staticClass:"vc-panel-body-search-row row g-0"},[a("div",{staticClass:"col text-end"},[a("button",{staticClass:"btn btn-p btn-mr4",attrs:{type:"button"},on:{click:function(e){return t.search()}}},[t._v(" 搜尋 ")]),a("button",{staticClass:"btn btn-p",attrs:{type:"reset"},on:{click:function(e){return t.reset()}}},[t._v(" 重置 ")])])])],1),a("div",{staticClass:"vc-panel-body-list",attrs:{id:"list-panel"}},[a("div",{staticClass:"subTitle justify-content-between"},[t._v(" 檢視搜尋結果 "),a("div",{staticClass:"text-end"},[a("button",{staticClass:"btn btn-new5 btn-mr4",on:{click:t.select_display_fields}},[t._v(" 篩選顯示 ")]),a("button",{staticClass:"btn btn-new2 btn-mr4"},[t._v(" 列印 ")]),a("button",{staticClass:"btn btn-new3 btn-mr4"},[t._v(" 匯出EXCEL ")])])]),a("div",{staticClass:"vc-panel-body-list-table"},[a("div",{staticClass:"table-container watermark-container"},[a("WaterMark"),a("div",{ref:"thead",staticClass:"table-responsive nopadding thead"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",{staticClass:"table-title-bar"},[a("th",{staticClass:"text-center",style:t.operation_col_width()},[t._v(" 操作 ")]),t._l(t.filter_fields,(function(e){return a("th",{key:e.key,staticClass:"text-center",class:"field-scale-"+e.scale},[t._v(" "+t._s(e.label)+" ")])}))],2)])])]),a("div",{ref:"tbody",staticClass:"table-responsive nopadding tbody",on:{scroll:function(e){return t.sync_thead_scroll()}}},[a("table",{staticClass:"table table-bordered table-hover"},[a("tbody",[a("tr",[a("td",{staticClass:"text-center",style:t.operation_col_width()},[a("button",{staticClass:"btn btn-p btn-mr4",on:{click:function(e){return t.detail_company()}}},[t._v("附件")]),a("button",{staticClass:"btn btn-w btn-mr4",on:{click:function(e){return t.edit_company()}}},[t._v("修改")])]),t._l(t.filter_fields,(function(e){return a("td",{key:e.key,staticClass:"text-left",class:"field-scale-"+e.scale},[t._v(" "+t._s(e.label)+" ")])}))],2),t._l(t.list,(function(e,n){return a("tr",{key:n,class:{selectedTr:t.selected_index.includes(n)},on:{click:function(e){return t.handle_acitve_tr(n)}}},[a("td",{staticClass:"text-center",style:t.operation_col_width()},[a("button",{staticClass:"btn btn-p btn-mr4",on:{click:function(a){return t.detail_company(e)}}},[t._v("附件")]),a("button",{staticClass:"btn btn-w btn-mr4",on:{click:function(a){return t.edit_company(e)}}},[t._v("修改")])]),t._l(t.filter_fields,(function(n){return a("td",{key:n.key,staticClass:"text-left",class:"field-scale-"+n.scale},[t._v(" "+t._s(e[n.key])+" ")])}))],2)}))],2)])])],1)])])]),a("Pagination",{ref:"page",on:{searchService:t.pageSearch}})],1),a("PageRemark",{attrs:{html:t.footer_total}}),a("DisplayColumn",{ref:"displayColumn",attrs:{fields:t.fields},on:{hidden_fields:t.getHiddenFields}}),a("AccountGroupForm",{ref:"account_group_form"}),a("EditForm",{ref:"edit_form"})],1)},s=[],i=a("1da1"),r=a("5530"),o=a("2909"),c=(a("96cf"),a("d3b7"),a("159b"),a("caad"),a("2532"),a("99af"),a("ac1f"),a("841c"),a("e9c4"),a("a434"),a("4de4"),a("3ea2")),l=a("4264"),u=a("14cc"),d=a("6df2"),_=a("5499"),p=function(){return[{label:"上線",key:"upper_line",scale:1},{label:"戶口編號",key:"account_no",scale:1},{label:"姓名",key:"account_name",scale:1},{label:"公司所在地區",key:"company_area",scale:1},{label:"公司類型",key:"company_type",scale:1},{label:"公司名稱",key:"company_name",scale:1},{label:"持份者",key:"stakeholder",scale:1},{label:"持份",key:"stake",scale:1},{label:"公司註冊地址",key:"register_address",scale:1},{label:"市值",key:"market_value",scale:1},{label:"登記編號",key:"register_no",scale:1},{label:"成立日期",key:"establishment_date",scale:1},{label:"註冊資本",key:"register_capital",scale:1},{label:"抵押",key:"mortgage",scale:1},{label:"業權最後確認日期",key:"ownership_confirm_date",scale:2},{label:"備註",key:"remark",scale:1},{label:"經手人",key:"staff_name",scale:1}]},f=p,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("TCModal",{ref:"modal",staticClass:"edit_form",attrs:{id:"edit_form",title:t.UI.title,dialog_width:"1600px","modal-body-style":{"min-height":"fit-content",overflow:"auto"}},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.is_detail,expression:"!is_detail"}],staticClass:"step-list-area"},[a("ul",{staticClass:"nav nav-pills step-list",attrs:{role:"tablist"}},t._l(t.step_tab_list,(function(e,n){return a("li",{key:e.id,staticClass:"nav-item step-btn",attrs:{role:"presentation"}},[a("button",{staticClass:"nav-link",attrs:{id:e.id+"-tab","data-bs-toggle":"pill","data-bs-target":"#"+e.id,type:"button","aria-controls":""+e.id,role:"tab"}},[t._v(" "+t._s(n+1)+" "),a("div",{staticClass:"step-title"},[t._v(t._s(e.title))])])])})),0)]),a("div",{staticClass:"tab-content main-tab-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.is_detail,expression:"!is_detail"}],staticClass:"tab-pane fade",attrs:{id:"step1"}},[a("div",{staticClass:"subTitle justify-content-between"},[t._v(" 戶口 ")]),a("div",{staticClass:"row g-0"},[a("div",{staticClass:"col-4 g-0"},[a("div",{staticClass:"form-group row required"},[a("div",{staticClass:"col-4 nopadding"},[a("label",{staticClass:"control-label"},[t._v("戶口編號")])]),a("div",{staticClass:"col-5 nopadding"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account_no,expression:"account_no"},{name:"tc-number",rawName:"v-tc-number"}],staticClass:"form-control",attrs:{placeholder:"戶口編號",required:""},domProps:{value:t.account_no},on:{change:function(e){return t.get_account_info()},input:[function(e){e.target.composing||(t.account_no=e.target.value)},function(e){t.account_name="",t.record.account_id=""}]}})])])]),a("div",{staticClass:"col-4 g-0"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-4 nopadding"},[a("label",{staticClass:"control-label"},[t._v("姓名")])]),a("div",{staticClass:"col-5 nopadding"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account_name,expression:"account_name"}],staticClass:"form-control",attrs:{placeholder:"姓名",disabled:""},domProps:{value:t.account_name},on:{input:function(e){e.target.composing||(t.account_name=e.target.value)}}})])])])]),a("div",{staticClass:"subTitle justify-content-between"},[t._v(" 資產 ")]),a("div",{staticClass:"row g-0"},[a("div",{staticClass:"col-4 g-0"},[a("div",{staticClass:"form-group row required"},[a("div",{staticClass:"col-4 nopadding"},[a("label",{staticClass:"control-label"},[t._v("公司所在地區")])]),a("div",{staticClass:"col-5 nopadding"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.record.company_area,expression:"record.company_area"}],staticClass:"form-control",attrs:{placeholder:"公司所在地區",required:""},domProps:{value:t.record.company_area},on:{input:function(e){e.target.composing||t.$set(t.record,"company_area",e.target.value)}}})])])])])]),a("div",{staticClass:"tab-pane fade",attrs:{id:"step2"}},[t._v(" 2 ")])])]},proxy:!0},{key:"footer",fn:function(){return[a("button",{staticClass:"btn btn-new4",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[t._v(t._s(t.is_create?"提交":"儲存"))]),a("button",{staticClass:"btn btn-new4",attrs:{type:"button"},on:{click:function(e){return t.hide()}}},[t._v("離開")])]},proxy:!0}])})},h=[],b=a("5fec"),v={getAccountInfo:"".concat("http://dev-tc-laravel.vc-technology.com","/api/account-management/account/get-account-info")},g={name:"edit_form",components:{TCModal:b["a"]},data:function(){return{UI:{title:"新增公司資料",title_create:"新增公司資料",title_edit:"修改公司資料",title_detail:"查看附件"},location_id:sessionStorage["location_id"],is_create:!1,is_detail:!1,step_tab_list:[{id:"step1",title:"填寫資料"},{id:"step2",title:"上傳文件"}],account_no:"",account_name:"",record:{account_id:"",company_area:"",company_type:"",register_no:"",company_name:"",register_capital:"",establishment_date:"",stakeholder:"",stake:"",register_address:"",market_value:"",mortgage:"",ownership_confirm_date:"",remark:"",location_id:"",files:[]}}},methods:{create_record:function(){return this.is_create=!0,this.is_detail=!1,this.UI.title=this.UI.title_create,this.init_step_tab_list(),this.init_record(),this.show()},edit_record:function(){return this.is_create=!1,this.is_detail=!1,this.UI.title=this.UI.title_edit,this.init_step_tab_list(),this.init_record(),this.show()},detail_record:function(){return this.is_create=!1,this.is_detail=!0,this.UI.title=this.UI.title_detail,this.init_step_tab_list(),this.init_record(),this.show()},init_step_tab_list:function(){this.is_detail?(this.step_tab_list.splice(0,1),$("#step2-tab").click()):$("#step1-tab").click()},init_record:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.is_create&&(t.record.location_id=t.location_id);case 1:case"end":return e.stop()}}),e)})))()},get_account_info:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t.account_no){e.next=20;break}return e.prev=1,e.next=4,t.axios.get(v.getAccountInfo,{params:{account_no:t.account_no}}).then((function(t){return t}));case 4:if(a=e.sent,200!==a.status){e.next=10;break}if(!a.data.data.account_id){e.next=10;break}return t.account_name=a.data.data.full_name,t.record.account_id=a.data.data.account_id,e.abrupt("return");case 10:e.next=20;break;case 12:return e.prev=12,e.t0=e["catch"](1),console.log("error",e.t0.response),t.account_name="",t.record.account_id="",e.next=19,SysUI.alert(t.UI.title,e.t0.response.data.message);case 19:return e.abrupt("return");case 20:case"end":return e.stop()}}),e,null,[[1,12]])})))()},validates:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!0,a=check_form_is_valid($(t.$el),!0),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validates();case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,t.axios.post(v.api,{}).then((function(t){return t}));case 8:if(n=e.sent,200!=n.status){e.next=13;break}t.hide(1),e.next=16;break;case 13:return e.next=15,SysUI.alert(t.UI.title,n.data.message);case 15:return e.abrupt("return");case 16:e.next=24;break;case 18:return e.prev=18,e.t0=e["catch"](5),console.log("error",e.t0.response),e.next=23,SysUI.alert(t.UI.title,e.t0.response.data.message);case 23:return e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[5,18]])})))()},show:function(){return this.$refs.modal.show()},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.reset(),this.$refs.modal.hide(t)},reset:function(){Object.assign(this.$data,this.$options.data()),remove_form_has_error($(this.$el))}}},y=g,C=(a("dfbe"),a("2877")),k=Object(C["a"])(y,m,h,!1,null,"5ec84670",null),w=k.exports,x={name:"acc_company_doc",components:{FilterInputField:c["a"],FilterSelectField:l["a"],FilterAccountGroupField:u["a"],PageRemark:d["a"],AccountGroupForm:_["a"],EditForm:w},data:function(){return{fields:[],list:[],filters:{account_no:"",account_group:"",company_area:"",company_type:"",stakeholder:"",company_name:"",page:1,limit:20},hidden_fields:[],operation_width:"100px",selected_index:[],footer_total:"",permissions:{}}},computed:{filter_fields:function(){var t=this,e=this.fields,a=[];return e.forEach((function(e){t.hidden_fields.includes(e.key)||(a=[].concat(Object(o["a"])(a),[e]))})),a}},created:function(){this.get_columns(),this.set_permission()},methods:{operation_col_width:function(){return{width:this.operation_width,"min-width":this.operation_width,"max-width":this.operation_width}},pageSearch:function(t){this.filters=Object(r["a"])(Object(r["a"])({},this.filters),t),this.search()},get_columns:function(){this.fields=f()},getOpenAccountGroupForm:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$refs.account_group_form.edit_record(t);case 2:s=n.sent,s&&(a.filters[e]=s.account_no);case 4:case"end":return n.stop()}}),n)})))()},search:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t.filters);case 1:case"end":return e.stop()}}),e)})))()},reset:function(){var t=JSON.parse(JSON.stringify(this.filters)),e=t.limit,a=t.page;Object.assign(this.$data.filters,this.$options.data().filters),this.filters.limit=e,this.filters.page=a},create_company:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.edit_form.create_record();case 2:a=e.sent,a&&t.search();case 4:case"end":return e.stop()}}),e)})))()},detail_company:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.edit_form.detail_record();case 1:case"end":return t.stop()}}),t)})))()},edit_company:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.edit_form.edit_record();case 2:a=t.sent,a&&e.search();case 4:case"end":return t.stop()}}),t)})))()},sync_thead_scroll:function(){$(this.$refs.thead).scrollLeft($(this.$refs.tbody).scrollLeft())},getHiddenFields:function(t){this.hidden_fields=t},select_display_fields:function(){this.$refs.displayColumn.show()},handle_acitve_tr:function(t){-1==this.selected_index.indexOf(t)?this.selected_index.push(t):this.selected_index.splice(this.selected_index.indexOf(t),1)},set_permission:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.permissions=getModulePermissions(),a={upper_line:"1_3_4_3_2_2",account_no:"1_3_4_3_2_3",account_name:"1_3_4_3_2_4",company_area:"1_3_4_3_2_5",company_type:"1_3_4_3_2_6",company_name:"1_3_4_3_2_7",stakeholder:"1_3_4_3_2_8",stake:"1_3_4_3_2_9",register_address:"1_3_4_3_2_10",market_value:"1_3_4_3_2_11",register_no:"1_3_4_3_2_12",establishment_date:"1_3_4_3_2_13",register_capital:"1_3_4_3_2_14",mortgage:"1_3_4_3_2_15",ownership_confirm_date:"1_3_4_3_2_16",remark:"1_3_4_3_2_17",staff_name:"1_3_4_3_2_18"},t.fields=t.fields.filter((function(e){return a[e.key]?t.permissions[a[e.key]]?e:void t.hidden_fields.push(e.key):e}));case 3:case"end":return e.stop()}}),e)})))()}}},S=x,O=Object(C["a"])(S,n,s,!1,null,null,null);e["default"]=O.exports},dfbe:function(t,e,a){"use strict";a("5bd4")},ec87:function(t,e,a){"use strict";a("7c62")}}]);
//# sourceMappingURL=chunk-9f056772.f8ab566c.js.map