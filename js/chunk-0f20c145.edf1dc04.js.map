{"version":3,"sources":["webpack:///./src/views/Login.vue?3436","webpack:///./src/views/Login.vue?d214","webpack:///./src/views/Login.vue?e396","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?66fe","webpack:///./src/views/Login.vue","webpack:///./src/assets/logo.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","_v","directives","name","rawName","value","expression","class","password_error","domProps","on","$event","type","indexOf","_k","keyCode","key","login_click","target","composing","username","password","staticRenderFns","duration","offset","message","center","component","module","exports"],"mappings":"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","file":"js/chunk-0f20c145.edf1dc04.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=7912caca&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_vm._m(0),_c('div',{staticClass:\"login_container\"},[_vm._m(1),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-username\"}},[_vm._v(\"職員編號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-control login_input\",class:{'has-error': _vm.password_error},attrs:{\"type\":\"text\",\"id\":\"input-username\",\"placeholder\":\"請輸入職員編號\"},domProps:{\"value\":(_vm.username)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login_click()},\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control login_input\",class:{'has-error': _vm.password_error},attrs:{\"type\":\"password\",\"id\":\"input-password\",\"placeholder\":\"請輸入密碼\"},domProps:{\"value\":(_vm.password)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login_click()},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-p login_button\",on:{\"click\":function($event){return _vm.login_click()}}},[_vm._v(\" 登入 \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_title\"},[_c('h1',[_vm._v(\"歡迎\")]),_c('h3',[_vm._v(\"後台管理系統\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login\">\r\n        <div class=\"login_logo\">\r\n            <!-- <img src=\"@/assets/image/vclogo_login.png\" alt=\"\"> -->\r\n            <img src=\"@/assets/logo.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"login_container\">\r\n            <div class=\"login_title\">\r\n                <h1>歡迎</h1>\r\n                <h3>後台管理系統</h3>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label class=\"form-label\" for=\"input-username\">職員編號</label>\r\n                <input type=\"text\" id=\"input-username\" class=\"form-control login_input\" v-model=\"username\" placeholder=\"請輸入職員編號\" :class=\"{'has-error': password_error}\" @keyup.enter=\"login_click()\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label class=\"form-label\" for=\"input-password\">密碼</label>\r\n                <input type=\"password\" id=\"input-password\" class=\"form-control login_input\" v-model=\"password\" placeholder=\"請輸入密碼\" :class=\"{'has-error': password_error}\" @keyup.enter=\"login_click()\">\r\n            </div>\r\n            <button class=\"btn btn-p login_button\" @click=\"login_click()\">\r\n                登入\r\n            </button>\r\n            <!-- <el-select class=\"login_lang_select\" v-model=\"locale_languages\" @change=\"change_language()\">\r\n                <el-option\r\n                    v-for=\"it in languages_options\"\r\n                    :key=\"it.value\"\r\n                    :label=\"$t(it.label)\"\r\n                    :value=\"it.value\">\r\n                </el-option>\r\n            </el-select> -->\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"login\",\r\n    components: {\r\n    },\r\n    data () {\r\n        return {\r\n            username: \"\",\r\n            password: \"\",\r\n            password_error: false,\r\n            locale_languages: \"\",\r\n            languages_options: [\r\n                {\r\n                    value: \"zh\",\r\n                    label: \"GENERAL.LANGUAGE_ZH\",\r\n                },\r\n                {\r\n                    value: \"en\",\r\n                    label: \"GENERAL.LANGUAGE_EN\"\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    created () {\r\n        this.login_init();\r\n        this.locale_languages = this.$i18n.locale;\r\n        sessionStorage[\"language\"] = this.locale_languages;\r\n    },\r\n    methods: {\r\n        async login_click () {\r\n            let is_valid = await this.validate();\r\n\r\n            if (!is_valid) {\r\n                this.password_error = true;\r\n                return;\r\n            }\r\n            \r\n            // =====測試用=====\r\n            if (this.username === \"superadmin\" && this.password === \"superadmin12345\") {\r\n                sessionStorage[\"user_token\"] = 'test';\r\n                sessionStorage[\"staff_name\"] = '超級管理員';\r\n                sessionStorage[\"staff_no\"] = 'superadmin';\r\n                sessionStorage[\"user_permissions\"] = ['*'];\r\n    \r\n                this.$store.commit(\"SET_USER_TOKEN\", 'test');\r\n                this.$store.commit(\"SET_STAFF_NAME\", '超級管理員');\r\n                this.$store.commit(\"SET_STAFF_NO\", 'superadmin');\r\n                this.$store.commit(\"SET_USER_PERMISSIONS\", ['*']);\r\n\r\n                this.$message.success({\r\n                    duration: 3000,\r\n                    offset: 28,\r\n                    message: \"登入成功\",\r\n                    center: true,\r\n                });\r\n    \r\n                if (this.$store.state.user_token !== null)\r\n                    this.$router.push(\"/content\", () => {});\r\n            } else {\r\n                this.password_error = true;\r\n                this.$message.closeAll();\r\n                this.$message.error({\r\n                    duration: 3000,\r\n                    offset: 28,\r\n                    message: \"登入帳號密碼錯誤\",\r\n                    center: true,\r\n                });\r\n            }\r\n\r\n            return;\r\n            // =====測試用=====\r\n\r\n            let url = `${process.env.VUE_APP_DEV_LARAVEL}/api/auth/login`;\r\n\r\n            await this.axios.post(url, {\r\n                staff_no: this.username,\r\n                password: this.password,\r\n            }).then((response) => {\r\n                if (response.status == 200) {\r\n                    let {data} = response.data;\r\n                    sessionStorage[\"user_token\"] = data.token;\r\n                    sessionStorage[\"staff_name\"] = data.staff_name;\r\n                    sessionStorage[\"staff_no\"] = data.staff_no;\r\n                    sessionStorage[\"user_permissions\"] = data.permission;\r\n                    this.$store.commit(\"SET_USER_TOKEN\", data.token);\r\n                    this.$store.commit(\"SET_STAFF_NAME\", data.staff_name);\r\n                    this.$store.commit(\"SET_STAFF_NO\", data.staff_no);\r\n                    this.$store.commit(\"SET_USER_PERMISSIONS\", data.permission);\r\n\r\n                    this.axios.defaults.headers.common[\"User-Token\"] = sessionStorage[\"user_token\"];\r\n\r\n                    this.$message.success({\r\n                        duration: 3000,\r\n                        offset: 28,\r\n                        message: \"登入成功\",\r\n                        center: true,\r\n                    });\r\n\r\n                    if (this.$store.state.user_token !== null) {\r\n                        this.$router.push(\"/content\", () => {});\r\n                    }\r\n                } else {\r\n                    console.log(response);\r\n                    this.password_error = true;\r\n                    this.$message.closeAll();\r\n                    this.$message.error({\r\n                        duration: 3000,\r\n                        offset: 28,\r\n                        message: \"登入帳號密碼錯誤\",\r\n                        center: true,\r\n                    });\r\n                }\r\n            }).catch((error) => {\r\n                console.log(error);\r\n                this.password_error = true;\r\n                this.$message.error({\r\n                    duration: 3000,\r\n                    offset: 28,\r\n                    message: \"登入帳號密碼錯誤\",\r\n                    center: true,\r\n                });\r\n            })\r\n        },\r\n        async validate () {\r\n            if (this.username.length === 0 || this.password.length === 0) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        },\r\n        change_language () {\r\n            sessionStorage[\"language\"] = this.locale_languages;\r\n            this.$i18n.locale = this.locale_languages;\r\n        },\r\n        login_init () {\r\n            Object.assign(this.$data, this.$options.data());\r\n            sessionStorage.clear();\r\n            this.$store.commit(\"SET_USER_TOKEN\", null);\r\n            this.$store.commit(\"SET_STAFF_NAME\", null);\r\n            this.$store.commit(\"SET_STAFF_NO\", null);\r\n            this.$store.commit(\"SET_USER_PERMISSIONS\", null);\r\n            this.$store.commit(\"SET_LOCATION_ID\", null);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-start;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: url(\"~@/assets/image/BG.png\");\r\n    background-repeat: no-repeat;\r\n    background-attachment: fixed;\r\n    background-position: center;\r\n    background-size: cover;\r\n    color: #FFF;\r\n    .login_logo {\r\n        margin-top: 14.16vh;\r\n        img {\r\n            height: 12.5rem;\r\n        }\r\n    }\r\n    .login_container {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        .login_title {\r\n            margin-top: 7.7vh;\r\n            margin-bottom: 1.45vh;\r\n            h1 {\r\n                font-size: 4rem;\r\n                font-weight: 600;\r\n                line-height: 5.6rem;\r\n            }\r\n            h3 {\r\n                font-size: 2rem;\r\n                font-weight: 500;\r\n                line-height: 2.8rem;\r\n            }\r\n        }\r\n        .form-group {\r\n            position: relative;\r\n            display: flex;\r\n            align-items: flex-start;\r\n            justify-content: center;\r\n            flex-direction: column;\r\n            width: 21.25vw;\r\n            max-width: 30.6rem;\r\n            margin-top: 3.125vh;\r\n            .form-label {\r\n                margin-left: 1.6rem;\r\n                margin-bottom: .8rem;\r\n                font-size: 1.6rem;\r\n                font-weight: normal;\r\n            }\r\n            .form-control {\r\n                padding: .7rem 1.6rem;\r\n                border: .1rem solid transparent;\r\n                border-radius: .3rem;\r\n                background-color: #D5DAE733;\r\n                font-size: 1.6rem;\r\n                line-height: 2.2rem;\r\n                color: #FFF;\r\n            }\r\n            .form-control::placeholder {\r\n                color: #FFFFFF33;\r\n            }\r\n            .has-error {\r\n                border-color: #F03447;\r\n            }\r\n        }\r\n        .login_button {\r\n            width: 21.25vw;\r\n            max-width: 30.6rem;\r\n            height: 3.6rem;\r\n            margin-top: 5.93vh;\r\n            padding: .7rem;\r\n            border-radius: 5rem;\r\n            font-size: 1.6rem !important;\r\n            line-height: 2.2rem;\r\n        }\r\n        .login_lang_select {\r\n            margin-top: 6.45vh;\r\n            .el-input__inner {\r\n                border: none;\r\n                background: transparent;\r\n                text-align: center;\r\n                width: 160px;\r\n                color: #FFFFFFB3;\r\n                font-size: 1.6rem;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n<style>\r\n.login .el-input__inner {\r\n    border: none;\r\n    background: transparent;\r\n    text-align: center;\r\n    width: 160px;\r\n    color: #FFFFFFB3;\r\n    font-size: 1.6rem;\r\n}\r\n\r\n.el-select-dropdown {\r\n    padding: 1.6rem .4rem;\r\n    border: none;\r\n    border-radius: 1.6rem;\r\n}\r\n\r\n.el-select-dropdown__item {\r\n    padding: 0 1.2rem;\r\n    height: 2.5rem;\r\n    font-size: 1.2rem;\r\n    line-height: 2.5rem;\r\n    border-radius: .3rem;\r\n}\r\n\r\n.el-select-dropdown__item.selected {\r\n    color: #3571ff;\r\n}\r\n\r\n.el-select-dropdown__item:focus,\r\n.el-select-dropdown__item:not(.is-disabled):hover {\r\n    background-color: #EBF2FF;\r\n    color: #3571ff;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7912caca&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=7912caca&lang=scss&scoped=true&\"\nimport style1 from \"./Login.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7912caca\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";"],"sourceRoot":""}